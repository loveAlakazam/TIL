# 프로세스와 스레드 차이?

- 프로세스
  - **운영체제가 작업할 수 있는 최소단위중 하나 입니다.**
  - 메모리에 탑재하여 실행된 프로그램을 의미합니다.
    - 반면, 프로그램은 실행되지 않은 상태 입니다.

- 스레드
  - **cpu가 작업할 수 있는 최소 단위중 하나입니다.**
    - cpu스케줄러가 cpu에 전달하는 일 한개를 의미한다.
  - 프로세스가 종료되면 스레드들도 같이 종료된다.
  - 프로세스의 코드에 정의된 절차에 따라 cpu에 작업요청을 하는 실행단위


# 싱글스레드와 멀티스레드 차이점?

- 싱글스레드
  - 하나의 프로세스안에 스레드가 1개있음을 의미합니다.
  - 하나의 스레드가 한꺼번에 테스크를 처리한다.
  - Node.js도 싱글스레드 입니다.


- 멀티스레드  
  - 하나의 프로세스안에 스레드가 여러개들어있음을 의미한다.
  - 각 스레드들 모두 프로세스의 정적영역(코드,데이터,파일)을 공유하고 있다.
  - 각 스레드들은 동적영역(스택,힙)에서는 독립적이다. -> 그러므로 각자 독립적으로 실행을 한다.
  - 반면에 멀티스레드는 여러개의 스레드가 테스크를 처리하여 작업의 효율을 높인다.(복잡한 작업도 쉽게 처리한다.)
    - 멀티스레드의 단점은 스레드들중 하나가 문제생기면 프로세스에도 영향을 미칠 수 있다.


싱글스레드: 스테이크를 주문했을 때 "재료손질 -> 조리 -> 플레이팅 -> 주문자에게 전달" 이 과정을 하나의 스레드가 처리를 하는것이고
멀티스레드는: 재료손질/ 조리/ 플레이팅/ 주문자에게 전달 이 기능 각각이 하나의 스레드이므로 분업을 하여 작업을 처리한다.


# 동기와 비동기

> 동기

- 정의
  - 동기는 앞의 작업이 끝날때까지 다음작업을 실행할 수 없고 대기를 해야한다.
  - 작업을 마치면 다음작업을 진행하여 순차적으로 처리하는 방식을 의미한다.

- 장/단점
  - 장점: 간단하고 직관적이다. => 이해하기 쉽다.
  - 단점: 만약에 앞의 작업이 오래걸린다면, 이후 작업은 아무것도 못하고 대기해야한다.

예를들면, 앞에 손님의 주문을 마칠때까지 뒤에있는 손님은 꼼짝도 안하고 기다리는 것을 의미한다.

> 비동기

- 정의
  - 비동기는 앞의 작업이 끝날때까지 기다리지않고 다음작업을 실행하여 처리하는 방식이다.

- 장/단점
  - 장점: 앞에 작업이 끝나는 동안에 다른 작업을 수행할 수 있다.
  - 단점: 동기보다 설계가 복잡하다.
    - promise, async/await가 없으면 콜백함수가 중첩하여 콜백지옥 이 발생한다.
    - 콜백지옥이 발생하면, 간단한 처리로직이라도 코드가 복잡해지고 가독성도 안좋다.
    - 가독성도 안좋을 뿐더러 관리하기가 어렵다.
  - 비동기의 예로서는 : 스레드가 대표적이다.

예를들면, 커피점의 진동벨을 생각하면 된다.
주문 진동벨이 울리기 전까지 휴대폰보기/유튜브방송보기 등의 다른작업을 수행할 수 있다.
다른작업을 멈춘채 커피가 올때까지 기다리지 않는 것을 의미한다.

---

# 콜백(콜백함수)

함수가 끝나고 난뒤에 실행되는 함수이다.

---

# Promise와 async/await
- promise와 async/await는 짝꿍같은 존재이다.
  - => 복잡한 비동기식 콜백코드를 동기코드같이 순차적으로 나타낼 수 있도록 해주는 것을 의미한다.

---


# Node.js란?

- 브라우저가 아닌 환경에서 자바스크립트 코드를 실행할 수 있는 런타임 환경을 의미합니다.
- 런타임: 프로그래밍 언어가 동작할 수 있는 프로그램.


# Node.js가 싱글스레드인데 어떻게 병렬적인 처리가 가능한 걸까?

자바스크립트도 nodejs도 싱글스레드이다.
특히 nodejs는 싱글스레드인데, 비동기 함수를 사용하여 병렬 처리가 가능하다

자바스크립트는 싱글스레드지만, 이벤트 루프를 통해 비동기 방식으로 동시성을 지원한다.
  - web api, event table, 콜백큐, 이벤트 루프 덕분에 자바스크립트를 멀티스레드처럼 작동할 수 있다.
  - node.js는 비동기 지원을 위해 libuv 라이브러리를 사용하며, 이 라이브러리가 이벤트 루프를 제공한다.

----

# 이벤트 루프?

- 콜스택과 태스크큐(콜백큐)를 감시하며 콜스택이 비어있는 경우에 태스크 큐에서 태스크를 가져와 콜스택에 넣어주는 동작을 의미한다.
- 테스크가 들어오길 기다렸다가 태스크가 들어오면 이를 처리하고 처리할 태스크가 없는 경우에 대기하는 방식이다.

- 자바스크립트는 싱글스레드 언어이기때문에 한번에 하나씩 실행한다.
- 자바스크립트 엔진이 아닌 런타임(브라우저,node.js)에서 가지고 있는 하나의 장치이다.



# Nest.js

- node.js 기반을 둔 웹 api 프레임워크이다.
- node.js는 손쉽게 사용할 수 있고 확장성이 좋지만 너무 유연하기 때문에 사용자가 직접 작성해야한다.
- 반면 nestjs는 데이터베이스, orm, 설정, 유효성검사 등 수많은 기능을 기본으로 제공하고 있고, 프레임워크가 의존성을 관리하여 개발자는 비즈니스로직에 구현에 집중할 수 있는 환경을 제공한다.

- nestjs는 앵귤러로부터 모듈/컴포넌트 기반으로 프로그램을 작성하여 재사용성을 높여준다. 객체지향 개념을 도입했다.
  - DI(Dependency Injection, 의존성 주입)
  - IoC(Inversion of Control, 제어의 역전)
  - AoP(Aspect oriented programing, 관점지향 프로그래밍)

---

# npm

- node package manager을 의미한다.
- node.js의 기본적인 패키지 관리자이다.
- node.js에서 사용할 수 있는 모듈을 패키지화하여 저장소 역할과 설치/관리를 위한 cli를 제공한다.


# package.json

- 프로젝트가 의존하고 있는 패키지들을 나타내며, 개발환경을 구성한다.
- 패키지를 다운받으면 node_modules 라는 곳에 실제 패키지가 저장되어있다.


# package.lock-json

여러 사람들과 함께 작업했을 때, package.json으로 같은 패키지를 사용함을 명시함으로써
각자의 컴퓨터에 패키지를 설치하여, 협업할 때 같은 개발환경을 구성하게끔 나타내는 것을 의미한다.

---

# 쿠키와 세션

- 쿠키
  - 쿠키는 클라이언트의 요청정보를 클라이언트의 로컬(브라우저)에 저장한다.
  - 브라우저가 종료되어도, 쿠키유효기간이 지나지 않는한 클라이언트의 연결상태가 계속 유지되어있다.


- 세션
  - 세션은 서버로부터 세션아이디를 생성하여 쿠키에 저장한다. - 클라이언트의정보를 서버에서 관리한다.
  - 세션은 브라우저가 종료되면 서버에서 요청하지 않으므로 연결상태가 끊어진다.
  - 세션은 쿠키보다 안전한 것은 클라이언트 상태정보를 서버에서 관리하기때문이다.
    반면 쿠키는 request중에 탈취당할 수 있는 위험이있다. 그러므로 쿠키에는 유저의 중요한 정보를 담는 것을 지양한다.
  - 다만 동시접속자가 많아지면 서버에 과부하가 올 수 있어서 성능저하가 발생할 수 있다.

---

# JWT, AccessToken, RefreshToken

> JWT = AccessToken

- json web token 약어이다.
  - jwt는 인증에 필요한 정보들을 암호화시킨 json 토큰이다.
- jwt토큰은 곧 accessToken이다.
- jwt토큰을 http헤더에 실어 서버가 클라이언트를 식별한다.
- jwt는 '.'을 구분자로 header(헤더)/payload(내용)/signature(서명) 로 세가지로 구성되어있다.


- 토큰만으로도 인증처리가 가능하며, 클라이언트의 상태를 들고 있을 필요가 없다.

- accessToken의 유효시간을 짧게하여 빠른시간에 만료하여 탈취하더라도 사용할 수 없다.
- refreshToken은 액세스토큰이 만료됐을때, 새로운 액세스토큰을 재발급하도록하는 토큰이다.



## 서버기반 인증 시스템 vs 토큰 기반 인증 시스템

> 서버기반(세션)

- 서버의 세션을 사용해 사용자 인증을 하는 방법
- 서버측에서 사용자의 인증정보를 관리한다.
- 클라이언트로부터 요청을 받으면 클라이언트의 상태를 계속해서 유지해놓고 사용한다.
- 클라이언트가 증가함에 따라 성능 문제를 일으킬 수 있으므로 확장성이 어렵다.


> 토큰기반

- 인증받은 사용자에게 토큰을 발급하고
- 로그인이 필요한 작업일 경우 헤더에 토큰을 함께 보내 인증받은 사용자인지 확인한다.
- 상태를 유지하지 않으므로 stateless 한 특징을 갖고 있다.

- 토큰 인증원리
  - 1. 사용자가 아이디/비밀번호로 로그인
  - 2. 서버측에서 사용자(클라이언트)에게 유일한 토큰을 발급한다.
  - 3. 클라이언트는 서버측에서 전달받은 토큰을 쿠키나 스토리지에 저장해두고
    서버에 요청을 할때마다 해당 토큰을 http 요청헤더에 포함시켜 전달한다.
  - 4. 서버는 전달받은 토큰을 검증하고 요청에 응답한다.
    토큰에는 요청한 사람의 정보가 담겨있기에 서버는 db를 조회하지 않고 누가 요청하는지 알 수 있다.

- 토큰 방식 단점
  - 토큰자체가 데이터길이가 길다. - 인증요청이 많아질 수록 네트워크 부하가 심해질 수 있다.
  - payload가 암호화되어있지 않기 때문에 유저의 중요한 정보를 담을 수 없다.
  - 토큰은 탈취당하면 대처하기 어렵다.
    - 그러므로 토큰의 유효기간을 설정한다.

------------------------


# Oauth2.0

- 소셜로그인의 인증방식에 많이 쓰인다
- 이미 사용자의 서비스를 가지고 있는 웹서비스에서 대신 사용자에 대한 인증을 해주고, 이를 통해서 접근권한에 대한 토큰을 받아서 서버에 접근 할 수 있도록 한다.
- OAuth2를 이용하면 서버에서 사용자 관리에 대한 부담을 줄일 수 있다.
- OAuth2는 보안된 리소스에 액세스하기 위해 클라이언트에게 권한을 제공하는 프로세스를 단순화한 표준프로토콜의 한 종류이다.

----------------------


# Javascript와 Typescript 차이점

- 1. 자바스크립트에 없는 타입(type) 문법을 제공한다.
  - 자바스크립트는 동적타입변환으로 자료형의 제한이 없다.
  - 반면 타입스크립트는 정적타입으로 타입에 대해 엄격하며 타입을 추론할 수 있다.

- 2. 런타임에서의 실행유무
  - 타입스크립트는 컴파일하게되면 자바스크립트 언어로 변환한다.
    - 타입스크립트는 런타임으로 사용할 수 없다.
  - 자바스크립트는 브라우저와 런타임/프레임워크를 통해서도 실행이 가능하다.
  - 자바스크립트는 웹브라우저위에서 동작하는 스크립트언어이다.


# REST

- 정의:
  - representational state transfer
  - 자원의 상태를 주고받는 모든 것을 의미한다.
    - http uri(리소스 자원 식별자)를 통해 자원을 명시하고
    - http method(post/get/put/delete/patch)를 통해서
    - 자원에대한 crud operation을 적용하는 것.


- rest ful 하다는것은?
  - rest를 잘 지키고 원리를 따랐는지를 의미합니다. rest 규칙을 잘 지켰다면 restful api라고 합니다.
    - uri는 동사보다 명사를 사용
    - uri는 소문자로 표기
    - 마지막에 /를 포함하지 않는다.
    - 언더바대신에 -(하이픈)을 사용한다.
    - 파일확장자는 uri에 포함하지 않는다.


# URL, URI 차이점

- URL (uniform resource location) = uri + 위치
  - 네트워크상에서 통합자원(리소스)의 위치를 나타낸다.
  - 네트워크상 리소스의 자원의 식별자와 + 자원의 위치를 나타냄

- URI (uniform resource identifier)
  - 인터넷상의 리소스 자원 자체를 식별하는 고유한 문자열이다.
  - 네트워크상 자원의 식별자(자원을 구분하기 위한 아이디)이다.

# MVC 패턴




- 너무 유익하다
  - [inpa - JWT ](https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-JWTjson-web-token-%EB%9E%80-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC#JWT_(JSON_Web_Token))
  - [hanamon - 프로그램 / 프로세스 / 스레드/ 멀티스레드](https://hanamon.kr/%ed%94%84%eb%a1%9c%ea%b7%b8%eb%9e%a8-%ed%94%84%eb%a1%9c%ec%84%b8%ec%8a%a4-%ec%8a%a4%eb%a0%88%eb%93%9c-%eb%a9%80%ed%8b%b0%ec%8a%a4%eb%a0%88%eb%93%9c/)
  - [hanamon - 자바스크립트 런타임 작동방식, 비동기와 이벤트 루프 ](https://hanamon.kr/javascript-%EB%9F%B0%ED%83%80%EC%9E%84-%EC%9E%91%EB%8F%99-%EB%B0%A9%EC%8B%9D-%EB%B9%84%EB%8F%99%EA%B8%B0%EC%99%80-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84/)
